(this["webpackJsonpreact-hegan-client"]=this["webpackJsonpreact-hegan-client"]||[]).push([[18],{584:function(e,t,n){"use strict";n.r(t);var r=n(20),a=n(23),c=n(7),i=n(4),s=n(2),o=n(14),l=n(15),d=n.n(l),u=n(551),h=n.n(u),b=n(28),j=n.n(b),p=n(5),x=n(538),g=n(432),f=n(34),m=n(533),O=n(534),_=n(494),v=n(535),w=n(539),y=n(540),S=n(541),k=n(542),P=n(522),C=n(445),I=n(574),T=n(54),B=n.n(T),R=n(57),Y=n(1),A=Object(p.a)(x.a)((function(){return{}})),D=Object(p.a)("div")((function(e){var t,n=e.theme;return t={margin:"30px"},Object(i.a)(t,n.breakpoints.down("sm"),{margin:"16px"}),Object(i.a)(t,"& .breadcrumb",Object(i.a)({marginBottom:"30px"},n.breakpoints.down("sm"),{marginBottom:"16px"})),t})),E=(Object(p.a)(g.a)((function(){return{height:"100%",padding:"32px",position:"relative"}})),Object(p.a)("small")((function(e){return{width:50,height:15,color:"#fff",padding:"5px 8px",borderRadius:"4px",overflow:"hidden",background:e.bgcolor,boxShadow:"0 0 2px 0 rgba(0, 0, 0, 0.12), 0 2px 2px 0 rgba(0, 0, 0, 0.24)",cursor:"pointer"}})));t.default=function(){var e=Object(f.a)().palette,t=e.error.main,n=e.primary.main,i=e.secondary.main,l=e.success.main,u=e.success.light,b=e.secondary.dark,p=Object(s.useState)(0),x=Object(c.a)(p,2),T=x[0],N=x[1],F=Object(s.useState)(20),z=Object(c.a)(F,2),M=z[0],W=z[1],J=Object(s.useState)(!1),V=Object(c.a)(J,2),q=V[0],G=V[1],H=Object(s.useState)(!1),K=Object(c.a)(H,2),L=(K[0],K[1]);Object(s.useEffect)((function(){Q()}),[]);var Q=function(){var e=Object(a.a)(Object(r.a)().mark((function e(){return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return L(!0),e.prev=1,e.next=4,d.a.get("/sanctum/csrf-cookie").then((function(e){d.a.post("/api/client/get-sales-order-record").then((function(e){200===e.data.response_code?G(e.data.data):e.data.response_code,L(!1)})).catch((function(e){L(!1),console.error(e)}))}));case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(1),L(!1);case 9:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(){return e.apply(this,arguments)}}();return Object(Y.jsx)(Y.Fragment,{children:Object(Y.jsxs)(D,{children:[Object(Y.jsx)(g.a,{className:"breadcrumb",children:Object(Y.jsx)(R.a,{routeSegments:[{name:"dashboard",path:"/dashboard"},{name:"Sales"}]})}),Object(Y.jsxs)(m.a,{title:"Sales",children:[Object(Y.jsx)(O.a,{title:"Sales",titleTypographyProps:{variant:"h4",fontSize:"16px",fontWeight:"600",textTransform:"uppercase",textAlign:"center"}}),Object(Y.jsx)(_.a,{}),Object(Y.jsx)(v.a,{children:Object(Y.jsxs)(g.a,{width:"100%",overflow:"auto",children:[Object(Y.jsxs)(A,{sx:{minWidth:1e3},children:[Object(Y.jsx)(w.a,{children:Object(Y.jsxs)(y.a,{children:[Object(Y.jsx)(S.a,{align:"left",sx:{width:"60px"},children:"Sr. No."}),Object(Y.jsx)(S.a,{align:"center",children:"Order Id"}),Object(Y.jsx)(S.a,{align:"center",children:"Total MRP"}),Object(Y.jsx)(S.a,{align:"center",children:"Total Saving"}),Object(Y.jsx)(S.a,{align:"center",children:"Total Payable"}),Object(Y.jsx)(S.a,{align:"center",children:"Order Date"}),Object(Y.jsx)(S.a,{align:"center",children:"Transaction Id"}),Object(Y.jsx)(S.a,{align:"center",children:"Payment Status"}),Object(Y.jsx)(S.a,{align:"center",children:"Status"}),Object(Y.jsx)(S.a,{align:"center",sx:{width:"230px"},children:"Action"})]})}),Object(Y.jsx)(k.a,{children:q?q.slice(T*M,T*M+M).map((function(e,c){return Object(Y.jsxs)(y.a,{children:[Object(Y.jsx)(S.a,{align:"center",children:c+1}),Object(Y.jsx)(S.a,{align:"center",children:Object(Y.jsx)(o.b,{to:"/dashboard/order-history/sale-details/".concat(e.id),children:e.hash_order_id})}),Object(Y.jsx)(S.a,{align:"center",children:e.total_mrp}),Object(Y.jsx)(S.a,{align:"center",children:e.total_savings}),Object(Y.jsx)(S.a,{align:"center",children:e.total_payable}),Object(Y.jsx)(S.a,{align:"center",children:B()(e.created_at).format("DD/MM/YYYY")}),Object(Y.jsx)(S.a,{align:"center",children:e.transaction_id?Object(Y.jsx)(Y.Fragment,{children:Object(Y.jsx)(E,{bgcolor:u,children:e.transaction_id})}):Object(Y.jsx)(Y.Fragment,{children:"-"})}),Object(Y.jsx)(S.a,{align:"center",children:function(){switch(e.payment_status){case"success":return Object(Y.jsx)(E,{bgcolor:l,children:"Success"});case"pending":return Object(Y.jsx)(E,{bgcolor:i,children:"Pending"});case"failed":return Object(Y.jsx)(E,{bgcolor:t,children:"Failed"});default:return null}}()}),Object(Y.jsx)(S.a,{align:"center",children:function(){switch(e.status){case"pending":return Object(Y.jsx)(E,{bgcolor:i,children:"Pending"});case"failed":return Object(Y.jsx)(E,{bgcolor:t,children:"Failed"});case"cancelled":return Object(Y.jsx)(E,{bgcolor:t,children:"Cancelled"});case"completed":return Object(Y.jsx)(E,{bgcolor:n,children:"Completed"});case"processing":return Object(Y.jsx)(E,{bgcolor:u,children:"Processing"});case"ready_to_ship":return Object(Y.jsx)(E,{bgcolor:u,children:"Ready To Ship"});case"shipped":return Object(Y.jsx)(E,{bgcolor:u,children:"Shipped"});case"delivered":return Object(Y.jsx)(E,{bgcolor:l,children:"Delivered"});case"return":return Object(Y.jsx)(E,{bgcolor:b,children:"Return"});case"return_initiated":return Object(Y.jsx)(E,{bgcolor:b,children:"Return Initiated"});case"refund":return Object(Y.jsx)(E,{bgcolor:t,children:"Refunded"});default:return null}}()}),Object(Y.jsxs)(S.a,{title:"View",align:"right",sx:{width:"200px"},children:[function(){switch(e.status){case"pending":case"failed":case"cancelled":case"shipped":case"delivered":case"refund":default:return null;case"completed":return Object(Y.jsx)(P.a,{onClick:function(t){return n=e.id,r=e.hash_order_id,void j()({title:"Are you sure?",text:'You want to accept this "'+r+'" order!',icon:"warning",buttons:["No, cancel it!","Yes, I am sure!"],dangerMode:!0}).then((function(e){if(e)try{d.a.get("/sanctum/csrf-cookie").then((function(e){d.a.post("/api/client/update-sale-order-status",{row_id:n,order_status:"processing"}).then((function(e){if(200===e.data.response_code){var t=e.data.data;G(q.map((function(e){return e.id===n?t:e}))),j()({title:"Done!",text:"Order accepted successfully.",icon:"success"})}else e.data.response_code,j()({title:"Errors!",text:e.data.message,icon:"error"});L(!1)})).catch((function(e){L(!1),console.error(e)}))}))}catch(t){L(!1)}}));var n,r},color:"success",variant:"contained",size:"small",sx:{m:.5},children:"Accept"});case"processing":return Object(Y.jsx)(P.a,{title:"Ready To Ship",onClick:function(t){return function(e,n){var c=function(){var i=Object(a.a)(Object(r.a)().mark((function a(){var i,s;return Object(r.a)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,h.a.fire({title:"Order Id: ".concat(n," "),focusConfirm:!1,html:'\n        <input class="swal2-input" id="invoice_number" type="text" placeholder="Invoice Number" style="width: 80%;"/><br />\n        <input class="swal2-input" id="number_of_box" type="text" placeholder="No. of Boxes" style="width: 80%;"/><br />\n        <input class="swal2-input" id="total_weight" type="text" placeholder="Total Weight(kg)" style="width: 80%;"/><br />\n      ',icon:"success",showCancelButton:!0,cancelButtonColor:"grey",confirmButtonText:"Submit!",confirmButtonColor:"green",allowOutsideClick:!1,preConfirm:function(){return{invoice_number:document.getElementById("invoice_number").value,number_of_box:document.getElementById("number_of_box").value,total_weight:document.getElementById("total_weight").value}}});case 2:if(i=r.sent,""!==(s=i&&i.value||i.dismiss).invoice_number&&""!==s.number_of_box&&""!==s.total_weight){r.next=10;break}return r.next=7,h.a.fire({type:"error",title:"All Fields is required!"});case 7:c(),r.next=11;break;case 10:if("cancel"!==s&&i.isConfirmed)try{d.a.get("/sanctum/csrf-cookie").then((function(t){d.a.post("/api/client/update-sale-order-status",{row_id:e,invoice_number:i.value.invoice_number,number_of_box:i.value.number_of_box,total_weight:i.value.total_weight,order_status:"ready_to_ship"}).then((function(t){if(200===t.data.response_code){var n=t.data.data;G(q.map((function(t){return t.id===e?n:t}))),j()({title:"Done!",text:t.data.message,icon:"success"})}else t.data.response_code,j()({title:"Errors!",text:t.data.message,icon:"error"});L(!1)})).catch((function(e){L(!1),console.error(e)}))}))}catch(t){L(!1)}case 11:case"end":return r.stop()}}),a)})));return function(){return i.apply(this,arguments)}}();c()}(e.id,e.hash_order_id)},color:"primary",variant:"contained",size:"small",sx:{m:.5},children:"Ready To Ship"});case"ready_to_ship":return Object(Y.jsx)(P.a,{title:"Ready To Ship",onClick:function(t){return n=e.id,r=e.hash_order_id,void j()({title:"Are you sure?",text:'You want to shipped this "'+r+'" order!',icon:"warning",buttons:["No, cancel it!","Yes, I am sure!"],dangerMode:!0}).then((function(e){if(e)try{d.a.get("/sanctum/csrf-cookie").then((function(e){d.a.post("/api/client/update-sale-order-status",{row_id:n,order_status:"shipped"}).then((function(e){if(200===e.data.response_code){var t=e.data.data;G(q.map((function(e){return e.id===n?t:e}))),j()({title:"Done!",text:"Order shipped successfully.",icon:"success"})}else e.data.response_code,j()({title:"Errors!",text:e.data.message,icon:"error"});L(!1)})).catch((function(e){L(!1),console.error(e)}))}))}catch(t){L(!1)}}));var n,r},color:"primary",variant:"contained",size:"small",sx:{m:.5},children:"Shipped"});case"return":return Object(Y.jsx)(P.a,{title:"Ready To Ship",onClick:function(t){return n=e.id,r=e.hash_order_id,void j()({title:"Are you sure?",text:'You want to accept return of "'+r+'" order!',icon:"warning",buttons:["No, cancel it!","Yes, I am sure!"],dangerMode:!0}).then((function(e){if(e)try{d.a.get("/sanctum/csrf-cookie").then((function(e){d.a.post("/api/client/update-sale-order-status",{row_id:n,order_status:"return_initiated"}).then((function(e){if(200===e.data.response_code){var t=e.data.data;G(q.map((function(e){return e.id===n?t:e}))),j()({title:"Done!",text:"Order return accepted successfully.",icon:"success"})}else e.data.response_code,j()({title:"Errors!",text:e.data.message,icon:"error"});L(!1)})).catch((function(e){L(!1),console.error(e)}))}))}catch(t){L(!1)}}));var n,r},color:"primary",variant:"contained",size:"small",sx:{m:.5},children:"Accept Return"})}}(),Object(Y.jsx)(P.a,{component:o.b,to:"/dashboard/order-history/sale-details/".concat(e.id),color:"primary",variant:"outlined",size:"small",sx:{m:.5},children:"View"})]})]},c)})):Object(Y.jsx)(y.a,{children:Object(Y.jsx)(S.a,{align:"center",colSpan:10,children:Object(Y.jsx)(C.a,{})})})})]}),q?Object(Y.jsx)(I.a,{sx:{px:2},page:T,component:"div",rowsPerPage:M,count:q.length,onPageChange:function(e,t){N(t)},rowsPerPageOptions:[5,10,25],onRowsPerPageChange:function(e){W(+e.target.value),N(0)},nextIconButtonProps:{"aria-label":"Next Page"},backIconButtonProps:{"aria-label":"Previous Page"}}):Object(Y.jsx)(Y.Fragment,{})]})})]})]})})}}}]);
//# sourceMappingURL=18.6e0afffa.chunk.js.map