(this["webpackJsonpreact-hegan-client"]=this["webpackJsonpreact-hegan-client"]||[]).push([[14],{602:function(e,t,a){"use strict";a.r(t);var c=a(9),n=a(7),i=a(4),r=a(41),s=a(2),o=a(549),d=a(538),l=a(533),j=a(534),b=a(522),h=a(494),p=a(535),x=a(523),m=a(528),u=a(539),O=a(540),g=a(541),f=a(542),_=a(440),y=a(441),v=(a(46),a(34)),S=a(14),k=a.n(S),w=a(37),B=a(25),C=a(15),N=a(17),D=a(28),F=a.n(D),q=a(57),M=a.p+"static/media/HeganMedicineImport.bd35ad88.xlsx",P=a(1),T=Object(_.a)(y.a)((function(){return{display:"flex",alignItems:"center"}})),U=Object(_.a)(T)((function(){return{justifyContent:"center"}})),W=(Object(_.a)(U)((function(){return{height:"100%",padding:"32px",background:"rgba(0, 0, 0, 0.01)"}})),Object(_.a)("div")((function(e){var t,a=e.theme;return t={margin:"30px"},Object(i.a)(t,a.breakpoints.down("sm"),{margin:"16px"}),Object(i.a)(t,"& .breadcrumb",Object(i.a)({marginBottom:"30px"},a.breakpoints.down("sm"),{marginBottom:"16px"})),t}))),E=Object(_.a)(d.a)((function(){return{minWidth:1500,whiteSpace:"pre","& small":{width:50,height:15,borderRadius:500,boxShadow:"0 0 2px 0 rgba(0, 0, 0, 0.12), 0 2px 2px 0 rgba(0, 0, 0, 0.24)"},"& td":{borderBottom:"none"},"& td:first-of-type":{paddingLeft:"16px !important"}}})),G={import_products:""},I=N.c().shape({});t.default=function(){Object(r.c)(),Object(v.a)().register;var e=Object(B.f)(),t=Object(s.useState)(!1),a=Object(n.a)(t,2),d=a[0],_=a[1],S=Object(s.useState)(!1),N=Object(n.a)(S,2),D=(N[0],N[1],Object(s.useState)(!1)),T=Object(n.a)(D,2),U=(T[0],T[1],Object(s.useState)(!1)),R=Object(n.a)(U,2),z=(R[0],R[1],Object(s.useState)(G)),A=Object(n.a)(z,2),H=A[0],J=A[1],Q=Object(s.useState)(!1),L=Object(n.a)(Q,2),V=L[0],K=L[1],X=function(e){J(Object(c.a)(Object(c.a)({},H),{},Object(i.a)({},e.target.name,e.target.files[0])))};return Object(P.jsxs)(W,{className:"add-medicine",children:[Object(P.jsx)(y.a,{className:"breadcrumb",children:Object(P.jsx)(q.a,{routeSegments:[{name:"dashboard",path:"/dashboard"},{name:"Upload Bulk Medicine"}]})}),Object(P.jsxs)(l.a,{className:"card",children:[Object(P.jsx)(j.a,{title:"Upload Bulk Medicine",titleTypographyProps:{variant:"h4",fontSize:"16px",fontWeight:"600",textTransform:"uppercase",textAlign:"center"},action:Object(P.jsx)(P.Fragment,{children:Object(P.jsx)(b.a,{title:"Back",component:C.b,to:M,download:"HeganMedicineImport",target:"_blank",color:"info",variant:"outlined",size:"small",sx:{m:.5},children:"Download Sample Format"})})}),Object(P.jsx)(h.a,{}),Object(P.jsxs)(p.a,{children:[Object(P.jsx)(w.a,{onSubmit:function(e,t){!function(e,t){_(!0);try{k.a.get("/sanctum/csrf-cookie").then((function(a){var c=new FormData;for(var n in e)"import_products"===n?c.append(n,H[n]):e[n]?c.append(n,e[n]):c.append(n,"");k.a.post("/api/client/get-excel-file-data",c,{headers:{"Content-Type":"multipart/form-data"}}).then((function(e){200===e.data.response_code?(K(e.data.data),F()({title:"Good job!",text:e.data.message,icon:"success"})):401==e.data.response_code||"401"==e.data.response_code?(t.setErrors(e.data.errors),F()({title:"Good job!",text:e.data.message,icon:"success"})):t.setErrors(e.data.errors),_(!1)})).catch((function(e){console.error(e)}))}))}catch(a){console.log(a),_(!1)}}(e,t)},initialValues:G,validationSchema:I,enableReinitialize:!0,children:function(e){e.values;var t=e.errors,a=e.touched,c=(e.handleChange,e.handleBlur,e.handleSubmit);return Object(P.jsx)("form",{onSubmit:c,children:Object(P.jsxs)(x.a,{container:!0,style:{padding:"20px 0px"},spacing:2,children:[Object(P.jsxs)(x.a,{item:!0,sm:6,xs:12,lg:4,children:[Object(P.jsx)("label",{htmlFor:"product_image",className:"form-label",children:"Upload Excel Products File"}),Object(P.jsx)(m.a,{fullWidth:!0,sx:{mb:3},children:Object(P.jsx)("input",{id:"import-products",name:"import_products",type:"file",onChange:X})}),t.import_products&&a.import_products&&Object(P.jsx)("div",{style:{color:"#ff3d57"},children:"".concat(t.import_products)})]}),Object(P.jsx)(x.a,{item:!0,sm:6,xs:12,lg:2,children:Object(P.jsx)(o.a,{fullWidth:!0,type:"submit",color:"primary",loading:d,variant:"contained",sx:{mb:2,mt:3},children:"Upload"})})]})})}}),V&&Object(P.jsxs)(P.Fragment,{children:[Object(P.jsx)(y.a,{overflow:"auto",children:Object(P.jsxs)(E,{children:[Object(P.jsx)(u.a,{children:Object(P.jsxs)(O.a,{children:[Object(P.jsx)(g.a,{children:"Product Name"}),Object(P.jsx)(g.a,{children:"Category"}),Object(P.jsx)(g.a,{children:"Brand"}),Object(P.jsx)(g.a,{children:"Description"}),Object(P.jsx)(g.a,{children:"Unit Packing"}),Object(P.jsx)(g.a,{children:"Expiry Date"}),Object(P.jsx)(g.a,{children:"Available Quantity"}),Object(P.jsx)(g.a,{children:"HSN/SAC Code"}),Object(P.jsx)(g.a,{children:"Batch No."}),Object(P.jsx)(g.a,{children:"MRP"}),Object(P.jsx)(g.a,{children:"Quantity"}),Object(P.jsx)(g.a,{children:"Discount"}),Object(P.jsx)(g.a,{children:"Bonus (Deal)"}),Object(P.jsx)(g.a,{children:"Trade Rate"}),Object(P.jsx)(g.a,{children:"Tax"})]})}),Object(P.jsx)(f.a,{children:V&&V.map((function(e,t){return Object(P.jsxs)(O.a,{children:[Object(P.jsx)(g.a,{children:e.product_name}),Object(P.jsx)(g.a,{children:e.category}),Object(P.jsx)(g.a,{children:e.brand}),Object(P.jsx)(g.a,{children:e.description}),Object(P.jsx)(g.a,{children:e.unit_packing}),Object(P.jsx)(g.a,{children:e.expiry_date}),Object(P.jsx)(g.a,{children:e.available_qty}),Object(P.jsx)(g.a,{children:e.hsn_sac_code}),Object(P.jsx)(g.a,{children:e.batch_no}),Object(P.jsx)(g.a,{children:e.mrp}),Object(P.jsx)(g.a,{children:e.min_qty}),Object(P.jsx)(g.a,{children:e.min_qty_discount}),Object(P.jsx)(g.a,{children:e.min_qty_bonus_deal}),Object(P.jsx)(g.a,{children:e.min_qty_trade_rate}),Object(P.jsx)(g.a,{children:e.tax})]},t)}))})]})}),Object(P.jsx)(x.a,{container:!0,style:{padding:"20px 0px"},spacing:2,children:Object(P.jsx)(x.a,{item:!0,sm:6,xs:12,lg:2,children:Object(P.jsx)(o.a,{fullWidth:!0,type:"submit",color:"primary",loading:d,variant:"contained",sx:{mb:2,mt:3},onClick:function(){try{console.log(V),k.a.get("/sanctum/csrf-cookie").then((function(t){k.a.post("/api/client/bulk-import-excel-file-data",{import_file_data:V}).then((function(t){200===t.data.response_code?(F()({title:"Good job!",text:t.data.message,icon:"success"}),e("/dashboard/medicine/list")):(401==t.data.response_code||t.data.response_code,F()({title:"Good job!",text:t.data.message,icon:"success"})),_(!1)})).catch((function(e){console.error(e)}))}))}catch(t){console.log(t),_(!1)}},children:"Import"})})})]})]})]})]})}}}]);
//# sourceMappingURL=14.7f988c3a.chunk.js.map