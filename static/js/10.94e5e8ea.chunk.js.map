{"version":3,"sources":["app/views/dashboard/PurchaseHistory/PurchaseList.js"],"names":["StyledTable","styled","Table","Container","theme","margin","breakpoints","down","marginBottom","Small","Box","height","padding","position","width","color","borderRadius","overflow","background","bgcolor","boxShadow","cursor","PurchaseList","palette","useTheme","bgError","error","main","bgPrimary","primary","bgSecondary","secondary","bgSuccess","success","bgSuccessLight","light","bgSecondaryDark","dark","useState","page","setPage","rowsPerPage","setRowsPerPage","tableData","setTableData","setLoading","useEffect","fetchData","axios","get","then","response","post","data","response_code","catch","console","__handleCancelOrder","row_id","order_id","swal","title","text","icon","buttons","dangerMode","isConfirm","reData","map","item","id","message","e","className","routeSegments","name","path","titleTypographyProps","variant","fontSize","fontWeight","textTransform","textAlign","sx","minWidth","align","slice","row","index","to","hash_order_id","total_mrp","total_savings","total_payable","Moment","created_at","format","transaction_id","onClick","resetPw","Swal","fire","focusConfirm","html","showCancelButton","cancelButtonColor","confirmButtonText","confirmButtonColor","allowOutsideClick","preConfirm","transactionId","document","getElementById","value","swalval","v","dismiss","isConfirmed","__handleUpdateTransactionId","payment_status","status","size","m","return_valid","product_expire","checked","product_damaged","__handleReturnOrder","component","Link","colSpan","px","count","length","onPageChange","_","newPage","rowsPerPageOptions","onRowsPerPageChange","event","target","nextIconButtonProps","backIconButtonProps"],"mappings":"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","file":"static/js/10.94e5e8ea.chunk.js","sourcesContent":["import { useState, useEffect } from \"react\";\r\nimport { Link } from 'react-router-dom';\r\nimport axios from 'axios';\r\nimport Swal from 'sweetalert2';\r\nimport swal from 'sweetalert';\r\nimport {\r\n  Card,\r\n  Divider,\r\n  CardContent,\r\n  CardHeader,\r\n  Box,\r\n  Icon,\r\n  IconButton,\r\n  Button,\r\n  styled,\r\n  Table,\r\n  TableBody,\r\n  TableCell,\r\n  TableHead,\r\n  TablePagination,\r\n  TableRow,\r\n  CircularProgress,\r\n  useTheme\r\n} from \"@mui/material\";\r\n\r\nimport GroupIcon from '@mui/icons-material/Group';\r\n\r\nimport Moment from 'moment';\r\n\r\nimport { Breadcrumb } from \"app/components\";\r\n\r\nconst StyledTable = styled(Table)(() => ({\r\n  // whiteSpace: \"pre\",\r\n  // \"& thead\": {\r\n  //   \"& tr\": { \"& th\": { paddingLeft: 0, paddingRight: 0 } },\r\n  // },\r\n  // \"& tbody\": {\r\n  //   \"& tr\": { \"& td\": { paddingLeft: 0, textTransform: \"capitalize\" } },\r\n  // },\r\n}));\r\n\r\nconst Container = styled(\"div\")(({ theme }) => (\r\n  {\r\n    margin: \"30px\",\r\n    [theme.breakpoints.down(\"sm\")]: { margin: \"16px\" },\r\n    \"& .breadcrumb\": {\r\n      marginBottom: \"30px\",\r\n      [theme.breakpoints.down(\"sm\")]: { marginBottom: \"16px\" },\r\n    },\r\n  }\r\n));\r\nconst ContentBox = styled(Box)(() => ({\r\n  height: '100%',\r\n  padding: '32px',\r\n  position: 'relative',\r\n  // background: 'rgba(0, 0, 0, 0.01)',\r\n}));\r\n\r\nconst Small = styled('small')(({ bgcolor }) => ({\r\n  width: 50,\r\n  height: 15,\r\n  color: '#fff',\r\n  padding: '5px 8px',\r\n  borderRadius: '4px',\r\n  overflow: 'hidden',\r\n  background: bgcolor,\r\n  boxShadow: '0 0 2px 0 rgba(0, 0, 0, 0.12), 0 2px 2px 0 rgba(0, 0, 0, 0.24)',\r\n  cursor: 'pointer'\r\n}));\r\n\r\nconst PurchaseList = () => {\r\n  const { palette } = useTheme();\r\n  const bgError = palette.error.main;\r\n  const bgPrimary = palette.primary.main;\r\n  const bgSecondary = palette.secondary.main;\r\n  const bgSuccess = palette.success.main;\r\n  const bgSuccessLight = palette.success.light;\r\n  const bgSecondaryDark = palette.secondary.dark;\r\n\r\n  const [page, setPage] = useState(0);\r\n  const [rowsPerPage, setRowsPerPage] = useState(20);\r\n  const [tableData, setTableData] = useState(false);\r\n  const [loading, setLoading] = useState(false);\r\n  useEffect(() => {\r\n    fetchData();\r\n  }, []);\r\n\r\n  /**\r\n   * Fetching data from server.\r\n   */\r\n  const fetchData = async () => {\r\n    setLoading(true);\r\n    try {\r\n      await axios.get('/sanctum/csrf-cookie').then(response => {\r\n        axios.post('/api/client/get-purchase-order-record')\r\n          .then(response => {\r\n            if (response.data.response_code === 200) {\r\n              setTableData(response.data.data);\r\n            } else if (response.data.response_code === 401) {\r\n\r\n            } else {\r\n\r\n            }\r\n            setLoading(false);\r\n          })\r\n          .catch(function (error) {\r\n            setLoading(false);\r\n            console.error(error);\r\n          });\r\n      });\r\n    } catch (e) {\r\n      setLoading(false);\r\n    }\r\n  }\r\n\r\n  const handleChangePage = (_, newPage) => {\r\n    setPage(newPage);\r\n  };\r\n\r\n  const handleChangeRowsPerPage = (event) => {\r\n    setRowsPerPage(+event.target.value);\r\n    setPage(0);\r\n  };\r\n\r\n  const __handleUpdateTransactionId = (row_id, order_id, hash_order_id) => {\r\n    const resetPw = async () => {\r\n      const swalval = await Swal.fire({\r\n        title: `Order Id: ${hash_order_id} `,\r\n        focusConfirm: false,\r\n        html: `\r\n        <input class=\"swal2-input\" id=\"transactionId\" type=\"text\" placeholder=\"Transaction Id...\" style=\"width: 80%;\"/><br />\r\n      `,\r\n        icon: 'success',\r\n        showCancelButton: true,\r\n        cancelButtonColor: 'grey',\r\n        confirmButtonText: 'Update!',\r\n        confirmButtonColor: 'green',\r\n        allowOutsideClick: false,\r\n        preConfirm: () => ({\r\n          transactionId: document.getElementById('transactionId').value,\r\n        })\r\n      });\r\n      let v = swalval && swalval.value || swalval.dismiss;\r\n      if (v && v.transactionId || v === 'cancel') {\r\n        if (v.transactionId === '') {\r\n          await Swal.fire({ icon: 'error', title: 'Transaction Id is required!' });\r\n          resetPw();\r\n        } else if (v !== 'cancel') {\r\n          if (swalval.isConfirmed) {\r\n            try {\r\n              axios.get('/sanctum/csrf-cookie').then(response => {\r\n                axios.post('/api/client/update-order-trans-id', {\r\n                  'row_id': row_id,\r\n                  'order_id': order_id,\r\n                  'transaction_id': swalval.value.transactionId,\r\n                })\r\n                  .then(response => {\r\n                    if (response.data.response_code === 200) {\r\n                      var reData = response.data.data;\r\n                      setTableData(tableData.map(item =>\r\n                        item.id === row_id\r\n                          ? reData\r\n                          : item\r\n                      ));\r\n                      swal({\r\n                        title: 'Done!',\r\n                        text: response.data.message,\r\n                        icon: 'success'\r\n                      })\r\n                    } else if (response.data.response_code === 412) {\r\n                      swal({\r\n                        title: \"Errors!\",\r\n                        text: response.data.message,\r\n                        icon: \"error\",\r\n                      });\r\n                    } else {\r\n                      swal({\r\n                        title: \"Errors!\",\r\n                        text: response.data.message,\r\n                        icon: \"error\",\r\n                      });\r\n                    }\r\n                    setLoading(false);\r\n                  })\r\n                  .catch(function (error) {\r\n                    setLoading(false);\r\n                    console.error(error);\r\n                  });\r\n              });\r\n            } catch (e) {\r\n              setLoading(false);\r\n            }\r\n          }\r\n        }\r\n      } else {\r\n        await Swal.fire({ icon: 'error', title: 'Please enter payment transaction Id!' });\r\n        resetPw();\r\n      }\r\n    }\r\n    resetPw();\r\n  }\r\n\r\n  const __handleCancelOrder = (row_id, order_id) => {\r\n    swal({\r\n      title: \"Are you sure?\",\r\n      text: \"You want to cancel \\\"\" + order_id + \"\\\" order!\",\r\n      icon: \"warning\",\r\n      buttons: [\r\n        'No, cancel it!',\r\n        'Yes, I am sure!'\r\n      ],\r\n      dangerMode: true,\r\n    }).then(function (isConfirm) {\r\n      if (isConfirm) {\r\n        try {\r\n          axios.get('/sanctum/csrf-cookie').then(response => {\r\n            axios.post('/api/client/cancel-order', {\r\n              'row_id': row_id\r\n            })\r\n              .then(response => {\r\n                if (response.data.response_code === 200) {\r\n                  var reData = response.data.data;\r\n                  setTableData(tableData.map(item =>\r\n                    item.id === row_id\r\n                      ? reData\r\n                      : item\r\n                  ));\r\n                  swal({\r\n                    title: 'Done!',\r\n                    text: response.data.message,\r\n                    icon: 'success'\r\n                  })\r\n                } else if (response.data.response_code === 412) {\r\n                  swal({\r\n                    title: \"Errors!\",\r\n                    text: response.data.message,\r\n                    icon: \"error\",\r\n                  });\r\n                } else {\r\n                  swal({\r\n                    title: \"Errors!\",\r\n                    text: response.data.message,\r\n                    icon: \"error\",\r\n                  });\r\n                }\r\n                setLoading(false);\r\n              })\r\n              .catch(function (error) {\r\n                setLoading(false);\r\n                console.error(error);\r\n              });\r\n          });\r\n        } catch (e) {\r\n          setLoading(false);\r\n        }\r\n      }\r\n    });\r\n  }\r\n\r\n  const __handleReturnOrder = (row_id, order_id) => {\r\n    const resetPw = async () => {\r\n      const swalval = await Swal.fire({\r\n        title: `Order Id: ${order_id} `,\r\n        focusConfirm: false,\r\n        html: `\r\n        <div style=\"text-align: left;  padding:0px 20px;\">\r\n          <br />\r\n          <p>Reason of Returning</p>\r\n          <div class=\"form-check\">\r\n                <input class=\"form-check-input\" type=\"checkbox\" value=\"expired\" id=\"product_expire\">\r\n                <label class=\"form-check-label\" for=\"product_expire\">\r\n                  Product received is expired.\r\n                </label>\r\n          </div>\r\n          <div class=\"form-check\">\r\n                <input class=\"form-check-input\" type=\"checkbox\" value=\"damaged\" id=\"product_damaged\">\r\n                <label class=\"form-check-label\" for=\"product_damaged\">\r\n                  Product is damaged.\r\n                </label>\r\n          </div>\r\n        </div>\r\n        <br />\r\n        <br />\r\n      `,\r\n        icon: 'success',\r\n        showCancelButton: true,\r\n        cancelButtonColor: 'grey',\r\n        confirmButtonText: 'Submit!',\r\n        confirmButtonColor: 'green',\r\n        allowOutsideClick: false,\r\n        preConfirm: () => ({\r\n          product_expire: (document.getElementById('product_expire').checked) ? document.getElementById('product_expire').value : '',\r\n          product_damaged: (document.getElementById('product_damaged').checked) ? document.getElementById('product_damaged').value : '',\r\n        })\r\n      });\r\n      let v = swalval && swalval.value || swalval.dismiss;\r\n\r\n      if (v.product_expire === '' && v.product_damaged === '') {\r\n        await Swal.fire({ icon: 'error', title: 'Select Reason of Returning!' });\r\n        resetPw();\r\n      } else if (v !== 'cancel') {\r\n        if (swalval.isConfirmed) {\r\n          try {\r\n            axios.get('/sanctum/csrf-cookie').then(response => {\r\n              axios.post('/api/client/return-order', {\r\n                row_id: row_id,\r\n                product_expire: swalval.value.product_expire,\r\n                product_damaged: swalval.value.product_damaged\r\n              })\r\n                .then(response => {\r\n                  if (response.data.response_code === 200) {\r\n                    var reData = response.data.data;\r\n                    setTableData(tableData.map(item =>\r\n                      item.order_id === order_id\r\n                        ? reData\r\n                        : item\r\n                    ));\r\n                    swal({\r\n                      title: 'Done!',\r\n                      text: response.data.message,\r\n                      icon: 'success'\r\n                    })\r\n                  } else if (response.data.response_code === 412) {\r\n                    swal({\r\n                      title: \"Errors!\",\r\n                      text: response.data.message,\r\n                      icon: \"error\",\r\n                    });\r\n                  } else {\r\n                    swal({\r\n                      title: \"Errors!\",\r\n                      text: response.data.message,\r\n                      icon: \"error\",\r\n                    });\r\n                  }\r\n                  setLoading(false);\r\n                })\r\n                .catch(function (error) {\r\n                  setLoading(false);\r\n                  console.error('inner', error);\r\n                });\r\n            }).catch(function (error) {\r\n              setLoading(false);\r\n              console.error('outer', error);\r\n            });\r\n          } catch (e) {\r\n            console.error('mostouter', e);\r\n            setLoading(false);\r\n          }\r\n        }\r\n      }\r\n    }\r\n    resetPw();\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <Container>\r\n        <Box className=\"breadcrumb\">\r\n          <Breadcrumb routeSegments={[{ name: \"dashboard\", path: \"/dashboard\" }, { name: \"Purchase\" }]} />\r\n        </Box>\r\n        <Card title=\"Purchase\">\r\n          <CardHeader\r\n            title=\"Purchase\"\r\n            titleTypographyProps={{\r\n              variant: \"h4\",\r\n              fontSize: '16px',\r\n              fontWeight: '600',\r\n              textTransform: 'uppercase',\r\n              textAlign: 'center'\r\n            }}\r\n          />\r\n          <Divider />\r\n          <CardContent>\r\n            <Box width=\"100%\" overflow=\"auto\">\r\n              <StyledTable sx={{ minWidth: 1000 }}>\r\n                <TableHead>\r\n                  <TableRow>\r\n                    <TableCell align=\"left\" sx={{ width: '60px' }}>Sr. No.</TableCell>\r\n                    <TableCell align=\"center\">Order Id</TableCell>\r\n                    <TableCell align=\"center\">Total MRP</TableCell>\r\n                    <TableCell align=\"center\">Total Saving</TableCell>\r\n                    <TableCell align=\"center\">Total Payable</TableCell>\r\n                    <TableCell align=\"center\">Order Date</TableCell>\r\n                    <TableCell align=\"center\">Transaction Id</TableCell>\r\n                    <TableCell align=\"center\">Payment Status</TableCell>\r\n                    <TableCell align=\"center\">Status</TableCell>\r\n                    <TableCell align=\"center\" sx={{ width: '200px' }}>Action</TableCell>\r\n                  </TableRow>\r\n                </TableHead>\r\n                <TableBody>\r\n                  {tableData ? tableData\r\n                    .slice(page * rowsPerPage, page * rowsPerPage + rowsPerPage)\r\n                    .map((row, index) => (\r\n                      <TableRow key={index}>\r\n                        <TableCell align=\"center\">{index + 1}</TableCell>\r\n                        <TableCell align=\"center\">\r\n                          <Link to={`/dashboard/order-history/purchase-details/${row.order_id}`}>\r\n                            {row.hash_order_id}\r\n                          </Link>\r\n                        </TableCell>\r\n                        <TableCell align=\"center\">{row.total_mrp}</TableCell>\r\n                        <TableCell align=\"center\">{row.total_savings}</TableCell>\r\n                        <TableCell align=\"center\">{row.total_payable}</TableCell>\r\n                        <TableCell align=\"center\">{Moment(row.created_at).format('DD/MM/YYYY')}</TableCell>\r\n                        <TableCell align=\"center\">\r\n                          {row.transaction_id ? (\r\n                            <>\r\n                              <Small bgcolor={bgSuccessLight}>{row.transaction_id}</Small>\r\n                            </>\r\n                          ) : (\r\n                            <>\r\n                              {/* <Small bgcolor={bgSuccess}>Pay Now</Small>\r\n                              <br /><br /> */}\r\n                              <Small bgcolor={bgPrimary} onClick={() => __handleUpdateTransactionId(row.id, row.order_id, row.hash_order_id)}>\r\n                                Update Trnx Id\r\n                              </Small>\r\n                            </>\r\n                          )}\r\n                        </TableCell>\r\n                        <TableCell align=\"center\">\r\n                          {(() => {\r\n                            switch (row.payment_status) {\r\n                              case 'success':\r\n                                return <Small bgcolor={bgSuccess}>Success</Small>\r\n                              case 'pending':\r\n                                return <Small bgcolor={bgSecondary}>Pending</Small>\r\n                              case 'failed':\r\n                                return <Small bgcolor={bgError}>Failed</Small>\r\n                              default:\r\n                                return null\r\n                            }\r\n                          })()}\r\n                        </TableCell>\r\n                        <TableCell align=\"center\">\r\n                          {(() => {\r\n                            switch (row.status) {\r\n                              case 'pending':\r\n                                return <Small bgcolor={bgSecondary}>Pending</Small>\r\n                              case 'failed':\r\n                                return <Small bgcolor={bgError}>Failed</Small>\r\n                              case 'cancelled':\r\n                                return <Small bgcolor={bgError}>Cancelled</Small>\r\n                              case 'completed':\r\n                                return <Small bgcolor={bgPrimary}>Completed</Small>\r\n                              case 'processing':\r\n                                return <Small bgcolor={bgSuccessLight}>Processing</Small>\r\n                              case 'ready_to_ship':\r\n                                return <Small bgcolor={bgSuccessLight}>Ready To Ship</Small>\r\n                              case 'shipped':\r\n                                return <Small bgcolor={bgSuccessLight}>Shipped</Small>\r\n                              case 'delivered':\r\n                                return <Small bgcolor={bgSuccess}>Delivered</Small>\r\n                              case 'return':\r\n                                return <Small bgcolor={bgSecondaryDark}>Return</Small>\r\n                              case 'return_initiated':\r\n                                return <Small bgcolor={bgSecondaryDark}>Return Initiated</Small>\r\n                              case 'refund':\r\n                                return <Small bgcolor={bgError}>Refunded</Small>\r\n                              default:\r\n                                return null\r\n                            }\r\n                          })()}\r\n                        </TableCell>\r\n                        <TableCell title=\"View\" align=\"right\" sx={{ width: '200px' }}>\r\n\r\n                          {(() => {\r\n                            switch (row.status) {\r\n                              case 'pending':\r\n                                return <Button title=\"Order Cancel\" onClick={(e) => __handleCancelOrder(row.id, row.hash_order_id)}\r\n                                  color=\"error\" variant=\"contained\" size=\"small\" sx={{ m: .5 }}>\r\n                                  Order Cancel\r\n                                </Button>\r\n                              case 'failed':\r\n                                return null\r\n                              case 'cancelled':\r\n                                return null\r\n                              case 'completed':\r\n                                return < Button title=\"Order Cancel\" onClick={(e) => __handleCancelOrder(row.id, row.hash_order_id)}\r\n                                  color=\"error\" variant=\"contained\" size=\"small\" sx={{ m: .5 }}>\r\n                                  Order Cancel\r\n                                </Button>\r\n                              case 'processing':\r\n                                return null\r\n                              case 'ready_to_ship':\r\n                                return null\r\n                              case 'shipped':\r\n                                return null\r\n                              case 'delivered':\r\n                                if (row.return_valid) {\r\n                                  return <Button title=\"Order Return\" onClick={(e) => __handleReturnOrder(row.id, row.hash_order_id)}\r\n                                    color=\"info\" variant=\"contained\" size=\"small\" sx={{ m: .5 }}>\r\n                                    Order Return\r\n                                  </Button>\r\n                                } else {\r\n                                  return null\r\n                                }\r\n                              case 'return':\r\n                                return null\r\n                              case 'refund':\r\n                                return null\r\n                              default:\r\n                                return null\r\n                            }\r\n                          })()}\r\n                          <Button component={Link}\r\n                            to={`/dashboard/order-history/purchase-detail/${row.id}`}\r\n                            color=\"primary\" variant=\"outlined\" size=\"small\" sx={{ m: .5 }}>\r\n                            View\r\n                          </Button>\r\n                        </TableCell>\r\n                      </TableRow>\r\n                    )) : <TableRow><TableCell align=\"center\" colSpan={10}><CircularProgress /></TableCell></TableRow>}\r\n                </TableBody>\r\n              </StyledTable>\r\n              {tableData ?\r\n                <TablePagination\r\n                  sx={{ px: 2 }}\r\n                  page={page}\r\n                  component=\"div\"\r\n                  rowsPerPage={rowsPerPage}\r\n                  count={tableData.length}\r\n                  onPageChange={handleChangePage}\r\n                  rowsPerPageOptions={[5, 10, 25]}\r\n                  onRowsPerPageChange={handleChangeRowsPerPage}\r\n                  nextIconButtonProps={{ \"aria-label\": \"Next Page\" }}\r\n                  backIconButtonProps={{ \"aria-label\": \"Previous Page\" }}\r\n                />\r\n                : <>\r\n\r\n                </>\r\n              }\r\n            </Box>\r\n          </CardContent>\r\n        </Card>\r\n      </Container >\r\n    </>\r\n\r\n  );\r\n};\r\n\r\nexport default PurchaseList;\r\n"],"sourceRoot":""}