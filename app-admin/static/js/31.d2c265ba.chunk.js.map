{"version":3,"sources":["app/views/admin/medicine-brand/EditMedicineBrand.js"],"names":["Container","styled","theme","margin","breakpoints","down","marginBottom","FlexBox","Box","height","padding","position","display","alignItems","validationSchema","justifyContent","Yup","shape","name","min","required","status","EditMedicineBrand","id","useParams","navigate","useTheme","useNavigate","useState","loading","setLoading","medicineBrand","setMedicineBrand","useEffect","fetchData","axios","get","then","response","post","row_id","data","response_code","swal","title","text","message","icon","catch","error","handleFormSubmit","values","errors","setErrors","validation_error","console","e","className","routeSegments","path","container","spacing","item","sm","xs","titleTypographyProps","variant","fontSize","fontWeight","textTransform","textAlign","onSubmit","initialValues","enableReinitialize","touched","handleChange","handleBlur","handleSubmit","fullWidth","type","label","onBlur","value","onChange","helperText","Boolean","sx","mb","labelId","color","my"],"mappings":"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","file":"static/js/31.d2c265ba.chunk.js","sourcesContent":["import { useState, useEffect } from \"react\";\r\nimport {\r\n    Box,\r\n    Card,\r\n    Divider,\r\n    CardContent,\r\n    CardHeader,\r\n    Grid, TextField, FormControl, Select, InputLabel, MenuItem, styled, useTheme\r\n} from '@mui/material';\r\n\r\nimport { LoadingButton } from '@mui/lab';\r\nimport { Formik } from 'formik';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport * as Yup from 'yup';\r\nimport axios from 'axios';\r\nimport swal from 'sweetalert';\r\nimport { Breadcrumb, SimpleCard } from \"app/components\";\r\nimport { useParams } from 'react-router-dom';\r\n\r\nconst Container = styled(\"div\")(({ theme }) => (\r\n    {\r\n        margin: \"30px\",\r\n        [theme.breakpoints.down(\"sm\")]: { margin: \"16px\" },\r\n        \"& .breadcrumb\": {\r\n            marginBottom: \"30px\",\r\n            [theme.breakpoints.down(\"sm\")]: { marginBottom: \"16px\" },\r\n        },\r\n    }\r\n));\r\nconst ContentBox = styled(Box)(() => ({\r\n    height: '100%',\r\n    padding: '32px',\r\n    position: 'relative',\r\n}));\r\n\r\nconst FlexBox = styled(Box)(() => ({ display: 'flex', alignItems: 'center' }));\r\n\r\nconst JustifyBox = styled(FlexBox)(() => ({ justifyContent: 'center' }));\r\n\r\n// form field validation schema\r\nconst validationSchema = Yup.object().shape({\r\n    name: Yup.string()\r\n        .min(3, 'Medicine Brand name must be 3 character length')\r\n        .required('Medicine Brand name is required!'),\r\n    status: Yup.string().required('Status is required!'),\r\n});\r\n\r\nconst EditMedicineBrand = () => {\r\n    const { id } = useParams();\r\n    const theme = useTheme();\r\n    const navigate = useNavigate();\r\n    const [loading, setLoading] = useState(false);\r\n    const [medicineBrand, setMedicineBrand] = useState({\r\n        name: '',\r\n        status: '',\r\n    });\r\n\r\n    useEffect(() => {\r\n        fetchData();\r\n    }, []);\r\n\r\n    /**\r\n     * Fetching data from server.\r\n     */\r\n    const fetchData = async () => {\r\n        setLoading(true);\r\n        try {\r\n            await axios.get('/sanctum/csrf-cookie').then(response => {\r\n                axios.post('/api/admin/get-medicine-brand', {\r\n                    row_id: id\r\n                })\r\n                    .then(response => {\r\n                        if (response.data.response_code === 200) {\r\n                            setMedicineBrand(response.data.data);\r\n                        } else if (response.data.response_code === 401) {\r\n                            swal({\r\n                                title: \"Warning!\",\r\n                                text: response.data.message,\r\n                                icon: \"warning\",\r\n                            });\r\n                            navigate('/dashboard/medicine-brands/list');\r\n                        } else {\r\n                            swal({\r\n                                title: \"Warning!\",\r\n                                text: response.data.message,\r\n                                icon: \"warning\",\r\n                            });\r\n                        }\r\n                        setLoading(false);\r\n                    })\r\n                    .catch(function (error) {\r\n                        setLoading(false);\r\n                    });\r\n            });\r\n        } catch (e) {\r\n            setLoading(false);\r\n        }\r\n    }\r\n\r\n    const handleFormSubmit = async (values, errors) => {\r\n        setLoading(true);\r\n        try {\r\n            axios.get('/sanctum/csrf-cookie').then(response => {\r\n                axios.post('/api/admin/update-medicine-brand', {\r\n                    row_id: id,\r\n                    name: values.name,\r\n                    status: values.status,\r\n                })\r\n                    .then(response => {\r\n                        if (response.data.response_code === 200) {\r\n                            swal({\r\n                                title: \"Done!\",\r\n                                text: response.data.message,\r\n                                icon: \"success\",\r\n                            });\r\n                            navigate('/dashboard/medicine-brands/list');\r\n                        } else if (response.data.response_code === 412) {\r\n                            swal({\r\n                                title: \"Errors!\",\r\n                                text: response.data.message,\r\n                                icon: \"error\",\r\n                            });\r\n                        } else if (response.data.response_code === 401) {\r\n                            swal({\r\n                                title: \"Warning!\",\r\n                                text: response.data.message,\r\n                                icon: \"warning\",\r\n                            });\r\n                            errors.setErrors(response.data.validation_error);\r\n                        } else {\r\n                            errors.setErrors(response.data.validation_error);\r\n                        }\r\n                        setLoading(false);\r\n                    })\r\n                    .catch(function (error) {\r\n                        console.error(error);\r\n                    });\r\n            });\r\n        } catch (e) {\r\n            setLoading(false);\r\n        }\r\n    };\r\n\r\n    return (\r\n        <>\r\n            <Container className=\"edit-college-course\">\r\n                <Box className=\"breadcrumb\">\r\n                    <Breadcrumb routeSegments={[{ name: \"dashboard\", path: \"/dashboard\" }, { name: \"Edit Medicine Brand\" }]} />\r\n                </Box>\r\n                <Grid container spacing={2}>\r\n                    <Grid item sm={8} xs={12}>\r\n                        <Card className=\"card\" >\r\n                            <CardHeader\r\n                                title=\"Edit Medicine Brand\"\r\n                                titleTypographyProps={{\r\n                                    variant: \"h4\",\r\n                                    fontSize: '16px',\r\n                                    fontWeight: '600',\r\n                                    textTransform: 'uppercase',\r\n                                    textAlign: 'center'\r\n                                }}\r\n                            />\r\n                            <Divider />\r\n                            <CardContent>\r\n                                <Formik\r\n                                    onSubmit={(values, errors) => {\r\n                                        handleFormSubmit(values, errors);\r\n                                    }\r\n                                    }\r\n                                    initialValues={medicineBrand}\r\n                                    enableReinitialize={true}\r\n                                    validationSchema={validationSchema}\r\n                                >\r\n                                    {({ values, errors, touched, handleChange, handleBlur, handleSubmit }) => (\r\n                                        <form onSubmit={handleSubmit}>\r\n                                            <TextField\r\n                                                fullWidth\r\n                                                // size=\"small\"\r\n                                                type=\"text\"\r\n                                                name=\"name\"\r\n                                                label=\"Medicine Brand Name\"\r\n                                                variant=\"outlined\"\r\n                                                onBlur={handleBlur}\r\n                                                value={values.name}\r\n                                                onChange={handleChange}\r\n                                                helperText={touched.name && errors.name}\r\n                                                error={Boolean(errors.name && touched.name)}\r\n                                                sx={{ mb: 3 }}\r\n                                            />\r\n                                            <FormControl fullWidth\r\n                                                sx={{ mb: 3 }}\r\n                                            >\r\n                                                <InputLabel id=\"demo-simple-select-label\">Status</InputLabel>\r\n                                                <Select\r\n                                                    labelId=\"status-label\"\r\n                                                    id=\"status\"\r\n                                                    name=\"status\"\r\n                                                    label=\"Status\"\r\n                                                    onChange={handleChange}\r\n                                                    variant=\"outlined\"\r\n                                                    onBlur={handleBlur}\r\n                                                    value={values.status}\r\n                                                    // helperText={touched.status && errors.status}\r\n                                                    error={Boolean(errors.status && touched.status)}\r\n                                                >\r\n                                                    <MenuItem value={'active'}>Active</MenuItem>\r\n                                                    <MenuItem value={'in-active'}>In Active</MenuItem>\r\n                                                </Select>\r\n                                            </FormControl>\r\n                                            <LoadingButton\r\n                                                type=\"submit\"\r\n                                                color=\"primary\"\r\n                                                loading={loading}\r\n                                                variant=\"contained\"\r\n                                                sx={{ my: 2 }}\r\n                                            >\r\n                                                Update\r\n                                            </LoadingButton>\r\n                                        </form>\r\n                                    )}\r\n                                </Formik>\r\n                            </CardContent>\r\n                        </Card>\r\n                    </Grid>\r\n                    <Grid item sm={4} xs={12}>\r\n\r\n                    </Grid>\r\n                </Grid>\r\n            </Container>\r\n        </>\r\n    );\r\n};\r\n\r\nexport default EditMedicineBrand;\r\n"],"sourceRoot":""}