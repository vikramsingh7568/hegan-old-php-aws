(this["webpackJsonpreact-hegan-admin"]=this["webpackJsonpreact-hegan-admin"]||[]).push([[33],{775:function(e,t,a){"use strict";a.r(t);var n=a(32),i=a(44),s=a(14),r=a(7),o=a(1),c=a(6),m=a(457),u=a(33),l=a(522),d=a(533),b=a(545),h=a(502),j=a(546),p=a(518),x=a(528),f=a(519),g=a(515),O=a(555),_=a(556),v=a(541),w=a(23),y=a(536),C=a(25),B=a.n(C),S=a(77),W=a.n(S),q=a(76),k=a(2),D=Object(c.a)("div")((function(e){var t,a=e.theme;return t={margin:"30px"},Object(r.a)(t,a.breakpoints.down("sm"),{margin:"16px"}),Object(r.a)(t,"& .breadcrumb",Object(r.a)({marginBottom:"30px"},a.breakpoints.down("sm"),{marginBottom:"16px"})),t})),M=(Object(c.a)(m.a)((function(){return{height:"100%",padding:"32px",position:"relative"}})),Object(c.a)(m.a)((function(){return{display:"flex",alignItems:"center"}}))),E=(Object(c.a)(M)((function(){return{justifyContent:"center"}})),y.b().shape({name:y.c().min(3,"Medicine Category Name must be 3 character length").required("Medicine Category Name is required!"),m_commission:y.a().required("Manufacture Default commission is required!"),d_commission:y.a().required("Distributor Default commission is required!"),w_commission:y.a().required("Whole Seller commission is required!"),status:y.c().required("Status is required!")}));t.default=function(){var e=Object(w.g)().id,t=(Object(u.a)(),Object(w.f)()),a=Object(o.useState)(!1),r=Object(s.a)(a,2),c=r[0],y=r[1],C=Object(o.useState)({name:"",m_commission:"",d_commission:"",w_commission:"",status:""}),S=Object(s.a)(C,2),M=S[0],N=S[1];Object(o.useEffect)((function(){T()}),[]);var T=function(){var a=Object(i.a)(Object(n.a)().mark((function a(){return Object(n.a)().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return y(!0),a.prev=1,a.next=4,B.a.get("/sanctum/csrf-cookie").then((function(a){B.a.post("/api/admin/get-medicine-category",{row_id:e}).then((function(e){200===e.data.response_code?N(e.data.data):401===e.data.response_code?(W()({title:"Warning!",text:e.data.message,icon:"warning"}),t("/dashboard/medicine-categories/list")):W()({title:"Warning!",text:e.data.message,icon:"warning"}),y(!1)})).catch((function(e){y(!1)}))}));case 4:a.next=9;break;case 6:a.prev=6,a.t0=a.catch(1),y(!1);case 9:case"end":return a.stop()}}),a,null,[[1,6]])})));return function(){return a.apply(this,arguments)}}(),A=function(){var a=Object(i.a)(Object(n.a)().mark((function a(i,s){return Object(n.a)().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:y(!0);try{B.a.get("/sanctum/csrf-cookie").then((function(a){B.a.post("/api/admin/update-medicine-category",{row_id:e,name:i.name,m_commission:i.m_commission,d_commission:i.d_commission,w_commission:i.w_commission,status:i.status}).then((function(e){200===e.data.response_code?(W()({title:"Done!",text:e.data.message,icon:"success"}),t("/dashboard/medicine-categories/list")):412==e.data.response_code?W()({title:"Errors!",text:e.data.message,icon:"error"}):401==e.data.response_code?(W()({title:"Warning!",text:e.data.message,icon:"warning"}),s.setErrors(e.data.errors)):s.setErrors(e.data.errors),y(!1)})).catch((function(e){console.error(e)}))}))}catch(n){y(!1)}case 2:case"end":return a.stop()}}),a)})));return function(e,t){return a.apply(this,arguments)}}();return Object(k.jsx)(k.Fragment,{children:Object(k.jsxs)(D,{className:"edit-college-course",children:[Object(k.jsx)(m.a,{className:"breadcrumb",children:Object(k.jsx)(q.a,{routeSegments:[{name:"dashboard",path:"/dashboard"},{name:"Edit Medicine Category"}]})}),Object(k.jsxs)(l.a,{container:!0,spacing:2,children:[Object(k.jsx)(l.a,{item:!0,sm:8,xs:12,children:Object(k.jsxs)(d.a,{className:"card",children:[Object(k.jsx)(b.a,{title:"Edit Medicine Category",titleTypographyProps:{variant:"h4",fontSize:"16px",fontWeight:"600",textTransform:"uppercase",textAlign:"center"}}),Object(k.jsx)(h.a,{}),Object(k.jsx)(j.a,{children:Object(k.jsx)(v.b,{onSubmit:function(e,t){A(e,t)},initialValues:M,enableReinitialize:!0,validationSchema:E,children:function(e){var t=e.values,a=e.errors,n=e.touched,i=e.handleChange,s=e.handleBlur,r=e.handleSubmit;return Object(k.jsxs)("form",{onSubmit:r,children:[Object(k.jsx)(p.a,{fullWidth:!0,type:"text",name:"name",label:"Medicine Category Name",variant:"outlined",onBlur:s,value:t.name,onChange:i,helperText:n.name&&a.name,error:Boolean(a.name&&n.name),sx:{mb:3}}),Object(k.jsx)(p.a,{fullWidth:!0,type:"number",name:"m_commission",label:"Manufacture Default Commission",variant:"outlined",onBlur:s,value:t.m_commission,onChange:i,helperText:n.m_commission&&a.m_commission,error:Boolean(a.m_commission&&n.m_commission),sx:{mb:3}}),Object(k.jsx)(p.a,{fullWidth:!0,type:"number",name:"d_commission",label:"Distributor Default Commission",variant:"outlined",onBlur:s,value:t.d_commission,onChange:i,helperText:n.d_commission&&a.d_commission,error:Boolean(a.d_commission&&n.d_commission),sx:{mb:3}}),Object(k.jsx)(p.a,{fullWidth:!0,type:"number",name:"w_commission",label:"Whole Seller Default Commission",variant:"outlined",onBlur:s,value:t.w_commission,onChange:i,helperText:n.w_commission&&a.w_commission,error:Boolean(a.w_commission&&n.w_commission),sx:{mb:3}}),Object(k.jsxs)(x.a,{fullWidth:!0,sx:{mb:3},children:[Object(k.jsx)(f.a,{id:"demo-simple-select-label",children:"Status"}),Object(k.jsxs)(g.a,{labelId:"status-label",id:"status",name:"status",label:"Status",onChange:i,variant:"outlined",onBlur:s,value:t.status,error:Boolean(a.status&&n.status),children:[Object(k.jsx)(O.a,{value:"active",children:"Active"}),Object(k.jsx)(O.a,{value:"in-active",children:"In Active"})]})]}),Object(k.jsx)(_.a,{type:"submit",color:"primary",loading:c,variant:"contained",sx:{my:2},children:"Update"})]})}})})]})}),Object(k.jsx)(l.a,{item:!0,sm:4,xs:12})]})]})})}}}]);
//# sourceMappingURL=33.9a428e3f.chunk.js.map