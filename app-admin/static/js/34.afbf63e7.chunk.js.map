{"version":3,"sources":["app/views/admin/medicine/OverallInventorysList.js"],"names":["StyledTable","styled","Table","whiteSpace","paddingLeft","paddingRight","textTransform","Container","theme","margin","breakpoints","down","marginBottom","Box","height","padding","position","OverallInventorysList","useState","page","setPage","rowsPerPage","setRowsPerPage","medicines","setMedicines","setLoading","useEffect","fetchData","axios","get","then","response","post","data","response_code","catch","error","console","className","routeSegments","name","path","title","titleTypographyProps","variant","fontSize","fontWeight","textAlign","width","overflow","align","sx","slice","map","row","index","product_name","category_name","brand_name","unit_packing","expiry_date","Moment","format","hsn_sac_code","batch_no","status","color","size","component","Link","to","id","m","onClick","e","row_id","swal","text","icon","buttons","dangerMode","isConfirm","message","colSpan","px","count","length","onPageChange","_","newPage","rowsPerPageOptions","onRowsPerPageChange","event","target","value","nextIconButtonProps","backIconButtonProps"],"mappings":"uXA4BMA,EAAcC,YAAOC,IAAPD,EAAc,iBAAO,CACvCE,WAAY,MACZ,UAAW,CACT,OAAQ,CAAE,OAAQ,CAAEC,YAAa,EAAGC,aAAc,KAEpD,UAAW,CACT,OAAQ,CAAE,OAAQ,CAAED,YAAa,EAAGE,cAAe,oBAIjDC,EAAYN,YAAO,MAAPA,EAAc,kBAAGO,EAAK,EAALA,MAAK,UAEpCC,OAAQ,QAAM,cACbD,EAAME,YAAYC,KAAK,MAAQ,CAAEF,OAAQ,SAAQ,cAClD,gBAAe,aACbG,aAAc,QACbJ,EAAME,YAAYC,KAAK,MAAQ,CAAEC,aAAc,UAAQ,KAI3CX,YAAOY,IAAPZ,EAAY,iBAAO,CACpCa,OAAQ,OACRC,QAAS,OACTC,SAAU,eAqOGC,UAjOe,WAC5B,MAAwBC,mBAAS,GAAE,mBAA5BC,EAAI,KAAEC,EAAO,KACpB,EAAsCF,mBAAS,IAAG,mBAA3CG,EAAW,KAAEC,EAAc,KAClC,EAAkCJ,oBAAS,GAAM,mBAA1CK,EAAS,KAAEC,EAAY,KAC9B,EAA8BN,oBAAS,GAAM,mBAA7BO,GAAF,KAAY,MAC1BC,qBAAU,WACRC,MACC,IAKH,IAAMA,EAAS,iDAAG,wFACC,OAAjBF,GAAW,GAAM,kBAETG,IAAMC,IAAI,wBAAwBC,MAAK,SAAAC,GAC3CH,IAAMI,KAAK,0CACRF,MAAK,SAAAC,GACgC,MAAhCA,EAASE,KAAKC,cAChBV,EAAaO,EAASE,KAAKA,MAClBF,EAASE,KAAKC,cAKzBT,GAAW,MAEZU,OAAM,SAAUC,GACfX,GAAW,GACXY,QAAQD,MAAMA,SAEjB,KAAD,iDAEFX,GAAW,GAAO,wDAErB,kBAvBc,mCAwFf,OACE,mCACE,eAAClB,EAAS,WACR,cAAC,IAAG,CAAC+B,UAAU,aAAY,SACzB,cAAC,IAAU,CAACC,cAAe,CAAC,CAAEC,KAAM,YAAaC,KAAM,cAAgB,CAAED,KAAM,kBAEjF,eAAC,IAAI,CAACE,MAAM,YAAW,UACrB,cAAC,IACC,CACAA,MAAM,YACNC,qBAAsB,CACpBC,QAAS,KACTC,SAAU,OACVC,WAAY,MACZxC,cAAe,YACfyC,UAAW,YAGf,cAAC,IAAO,IACR,cAAC,IAAW,UACV,eAAC,IAAG,CAACC,MAAM,OAAOC,SAAS,OAAM,UAC/B,eAACjD,EAAW,WACV,cAAC,IAAS,UACR,eAAC,IAAQ,WACP,cAAC,IAAS,CAACkD,MAAM,OAAOC,GAAI,CAAEH,MAAO,QAAS,SAAC,YAC/C,cAAC,IAAS,CAACE,MAAM,SAAQ,SAAC,iBAC1B,cAAC,IAAS,CAACA,MAAM,SAAQ,SAAC,aAC1B,cAAC,IAAS,CAACA,MAAM,SAAQ,SAAC,UAE1B,cAAC,IAAS,CAACA,MAAM,SAAQ,SAAC,iBAC1B,cAAC,IAAS,CAACA,MAAM,SAAQ,SAAC,gBAC1B,cAAC,IAAS,CAACA,MAAM,SAAQ,SAAC,iBAC1B,cAAC,IAAS,CAACA,MAAM,SAAQ,SAAC,cAC1B,cAAC,IAAS,CAACA,MAAM,SAAQ,SAAC,WAG1B,cAAC,IAAS,CAACA,MAAM,SAASC,GAAI,CAAEH,MAAO,SAAU,SAAC,gBAGtD,cAAC,IAAS,UACPzB,EAAYA,EACV6B,MAAMjC,EAAOE,EAAaF,EAAOE,EAAcA,GAC/CgC,KAAI,SAACC,EAAKC,GAAK,OACd,eAAC,IAAQ,WAEP,cAAC,IAAS,CAACL,MAAM,SAAQ,SAAEK,EAAQ,IACnC,cAAC,IAAS,CAACL,MAAM,SAAQ,SAAEI,EAAIE,eAC/B,cAAC,IAAS,CAACN,MAAM,SAAQ,SAAEI,EAAIG,gBAC/B,cAAC,IAAS,CAACP,MAAM,SAAQ,SAAEI,EAAII,aAE/B,cAAC,IAAS,CAACR,MAAM,SAAQ,SAAEI,EAAIK,eAC/B,cAAC,IAAS,CAACT,MAAM,SAAQ,SACrBI,EAAIM,YAAeC,IAAOP,EAAIM,aAAaE,OAAO,cAAgB,OAEtE,cAAC,IAAS,CAACZ,MAAM,SAAQ,SAAEI,EAAIS,eAC/B,cAAC,IAAS,CAACb,MAAM,SAAQ,SAAEI,EAAIU,WAC/B,cAAC,IAAS,CAACd,MAAM,SAAQ,SACrB,WACA,OAAQI,EAAIW,QACV,IAAK,WACH,OAAO,cAAC,IAAM,CAACC,MAAM,UAAUtB,QAAQ,YAAYuB,KAAK,QAAO,SAAC,aAClE,IAAK,UACH,OAAO,cAAC,IAAM,CAACD,MAAM,UAAUtB,QAAQ,YAAYuB,KAAK,QAAO,SAAC,YAClE,IAAK,WACH,OAAO,cAAC,IAAM,CAACD,MAAM,QAAQtB,QAAQ,YAAYuB,KAAK,QAAO,SAAC,aAChE,QACE,OAAO,MATX,KAiBJ,eAAC,IAAS,CAACzB,MAAM,OAAOQ,MAAM,QAAQC,GAAI,CAAEH,MAAO,SAAU,UAC3D,cAAC,IAAM,CAACoB,UAAWC,IACjBC,GAAE,mCAA8BhB,EAAIiB,IACpCL,MAAM,UAAUtB,QAAQ,WAAWuB,KAAK,QAAQhB,GAAI,CAAEqB,EAAG,IAAK,SAAC,YAGjE,cAAC,IAAM,CAACJ,UAAWC,IACjBC,GAAE,mCAA8BhB,EAAIiB,IACpCL,MAAM,UAAUtB,QAAQ,WAAWuB,KAAK,QAAQhB,GAAI,CAAEqB,EAAG,IAAK,SAAC,SAGjE,cAAC,IAAM,CAAC9B,MAAM,OAAO0B,UAAWC,IAC9BC,GAAE,yCAAoChB,EAAIiB,IAC1CL,MAAM,OAAOtB,QAAQ,WAAWuB,KAAK,QAAQhB,GAAI,CAAEqB,EAAG,IAAK,SAAC,SAG9D,cAAC,IAAM,CAAC9B,MAAM,SAAS+B,QAAS,SAACC,GAAC,OAzJlCC,EAyJsDrB,EAAIiB,GAzJlD/B,EAyJsDc,EAAIE,kBAxJxFoB,IAAK,CACHlC,MAAO,gBACPmC,KAAM,oCAAuCrC,EAAO,cACpDsC,KAAM,UACNC,QAAS,CACP,iBACA,mBAEFC,YAAY,IACXlD,MAAK,SAAUmD,GAChB,GAAIA,EACF,IACErD,IAAMC,IAAI,wBAAwBC,MAAK,SAAAC,GACrCH,IAAMI,KAAK,8BAA+B,CACxC,OAAU2C,IAET7C,MAAK,SAAAC,GACgC,MAAhCA,EAASE,KAAKC,eAChBP,IACAiD,IAAK,CACHlC,MAAO,QACPmC,KAAM9C,EAASE,KAAKiD,QACpBJ,KAAM,cAEC/C,EAASE,KAAKC,cACvB0C,IAAK,CACHlC,MAAO,UACPmC,KAAM9C,EAASE,KAAKiD,QACpBJ,KAAM,WASVrD,GAAW,MAEZU,OAAM,SAAUC,GACfX,GAAW,GACXY,QAAQD,MAAMA,SAGpB,MAAOsC,GACPjD,GAAW,QAGbmD,IAAK,YAAa,uBAAwB,YAjD5B,IAAID,EAAQnC,GA0JN0B,MAAM,QAAQtB,QAAQ,WAAWuB,KAAK,QAAQhB,GAAI,CAAEqB,EAAG,IAAK,SAAC,gBAhDpDjB,MAqDZ,cAAC,IAAQ,UAAC,cAAC,IAAS,CAACL,MAAM,SAASiC,QAAS,GAAG,SAAC,cAAC,IAAgB,CAAC7C,UAAU,sBAGvFf,EACC,cAAC,IAAe,CACd4B,GAAI,CAAEiC,GAAI,GACVjE,KAAMA,EACNiD,UAAU,MACV/C,YAAaA,EACbgE,MAAO9D,EAAU+D,OACjBC,aAnHS,SAACC,EAAGC,GAC3BrE,EAAQqE,IAmHMC,mBAAoB,CAAC,EAAG,GAAI,IAC5BC,oBAjHgB,SAACC,GAC/BtE,GAAgBsE,EAAMC,OAAOC,OAC7B1E,EAAQ,IAgHM2E,oBAAqB,CAAE,aAAc,aACrCC,oBAAqB,CAAE,aAAc,mBAErC","file":"static/js/34.afbf63e7.chunk.js","sourcesContent":["import { useState, useEffect } from \"react\";\r\nimport { Link } from 'react-router-dom'\r\nimport axios from 'axios';\r\nimport swal from 'sweetalert';\r\nimport {\r\n  Card,\r\n  Divider,\r\n  CardContent,\r\n  CardHeader,\r\n  Box,\r\n  Icon,\r\n  IconButton,\r\n  Button,\r\n  styled,\r\n  Table,\r\n  TableBody,\r\n  TableCell,\r\n  TableHead,\r\n  TablePagination,\r\n  TableRow,\r\n  CircularProgress\r\n} from \"@mui/material\";\r\n// import { LoadingButton } from '@mui/lab';\r\nimport GroupIcon from '@mui/icons-material/Group';\r\nimport { Breadcrumb, SimpleCard } from \"app/components\";\r\nimport Moment from 'moment';\r\n\r\n\r\nconst StyledTable = styled(Table)(() => ({\r\n  whiteSpace: \"pre\",\r\n  \"& thead\": {\r\n    \"& tr\": { \"& th\": { paddingLeft: 0, paddingRight: 0 } },\r\n  },\r\n  \"& tbody\": {\r\n    \"& tr\": { \"& td\": { paddingLeft: 0, textTransform: \"capitalize\" } },\r\n  },\r\n}));\r\n\r\nconst Container = styled(\"div\")(({ theme }) => (\r\n  {\r\n    margin: \"30px\",\r\n    [theme.breakpoints.down(\"sm\")]: { margin: \"16px\" },\r\n    \"& .breadcrumb\": {\r\n      marginBottom: \"30px\",\r\n      [theme.breakpoints.down(\"sm\")]: { marginBottom: \"16px\" },\r\n    },\r\n  }\r\n));\r\nconst ContentBox = styled(Box)(() => ({\r\n  height: '100%',\r\n  padding: '32px',\r\n  position: 'relative',\r\n  // background: 'rgba(0, 0, 0, 0.01)',\r\n}));\r\n\r\nconst OverallInventorysList = () => {\r\n  const [page, setPage] = useState(0);\r\n  const [rowsPerPage, setRowsPerPage] = useState(20);\r\n  const [medicines, setMedicines] = useState(false);\r\n  const [loading, setLoading] = useState(false);\r\n  useEffect(() => {\r\n    fetchData();\r\n  }, []);\r\n\r\n  /**\r\n   * Fetching data from server.\r\n   */\r\n  const fetchData = async () => {\r\n    setLoading(true);\r\n    try {\r\n      await axios.get('/sanctum/csrf-cookie').then(response => {\r\n        axios.post('/api/admin/get-medicine-inventory-list')\r\n          .then(response => {\r\n            if (response.data.response_code === 200) {\r\n              setMedicines(response.data.data);\r\n            } else if (response.data.response_code === 401) {\r\n\r\n            } else {\r\n\r\n            }\r\n            setLoading(false);\r\n          })\r\n          .catch(function (error) {\r\n            setLoading(false);\r\n            console.error(error);\r\n          });\r\n      });\r\n    } catch (e) {\r\n      setLoading(false);\r\n    }\r\n  }\r\n\r\n  const __rowDelete = (e, row_id, name) => {\r\n    swal({\r\n      title: \"Are you sure?\",\r\n      text: \"You will not be able to recover \\\"\" + name + \"\\\" Medicine!\",\r\n      icon: \"warning\",\r\n      buttons: [\r\n        'No, cancel it!',\r\n        'Yes, I am sure!'\r\n      ],\r\n      dangerMode: true,\r\n    }).then(function (isConfirm) {\r\n      if (isConfirm) {\r\n        try {\r\n          axios.get('/sanctum/csrf-cookie').then(response => {\r\n            axios.post('/api/client/delete-medicine', {\r\n              'row_id': row_id\r\n            })\r\n              .then(response => {\r\n                if (response.data.response_code === 200) {\r\n                  fetchData();\r\n                  swal({\r\n                    title: 'Done!',\r\n                    text: response.data.message,\r\n                    icon: 'success'\r\n                  })\r\n                } else if (response.data.response_code === 412) {\r\n                  swal({\r\n                    title: \"Errors!\",\r\n                    text: response.data.message,\r\n                    icon: \"error\",\r\n                  });\r\n                } else {\r\n                  swal({\r\n                    title: \"Errors!\",\r\n                    text: response.data.message,\r\n                    icon: \"error\",\r\n                  });\r\n                }\r\n                setLoading(false);\r\n              })\r\n              .catch(function (error) {\r\n                setLoading(false);\r\n                console.error(error);\r\n              });\r\n          });\r\n        } catch (e) {\r\n          setLoading(false);\r\n        }\r\n      } else {\r\n        swal(\"Cancelled\", \"Your data is safe :)\", \"error\");\r\n      }\r\n    });\r\n  }\r\n\r\n  const handleChangePage = (_, newPage) => {\r\n    setPage(newPage);\r\n  };\r\n\r\n  const handleChangeRowsPerPage = (event) => {\r\n    setRowsPerPage(+event.target.value);\r\n    setPage(0);\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <Container>\r\n        <Box className=\"breadcrumb\">\r\n          <Breadcrumb routeSegments={[{ name: \"dashboard\", path: \"/dashboard\" }, { name: \"Medicines\" }]} />\r\n        </Box>\r\n        <Card title=\"Medicines\">\r\n          <CardHeader\r\n            // avatar={<GroupIcon>A</GroupIcon>}\r\n            title=\"Medicines\"\r\n            titleTypographyProps={{\r\n              variant: \"h4\",\r\n              fontSize: '16px',\r\n              fontWeight: '600',\r\n              textTransform: 'uppercase',\r\n              textAlign: 'center'\r\n            }}\r\n          />\r\n          <Divider />\r\n          <CardContent>\r\n            <Box width=\"100%\" overflow=\"auto\">\r\n              <StyledTable>\r\n                <TableHead>\r\n                  <TableRow>\r\n                    <TableCell align=\"left\" sx={{ width: '50px' }}>Sr. No.</TableCell>\r\n                    <TableCell align=\"center\">Product Name</TableCell>\r\n                    <TableCell align=\"center\">Category</TableCell>\r\n                    <TableCell align=\"center\">Brand</TableCell>\r\n                    {/* <TableCell align=\"left\">Description</TableCell> */}\r\n                    <TableCell align=\"center\">Unit Packing</TableCell>\r\n                    <TableCell align=\"center\">Expiry Date</TableCell>\r\n                    <TableCell align=\"center\">HSN/SAC Code</TableCell>\r\n                    <TableCell align=\"center\">Batch No.</TableCell>\r\n                    <TableCell align=\"center\">Status</TableCell>\r\n                    {/* <TableCell align=\"center\">Created At</TableCell>\r\n                    <TableCell align=\"center\">Updated At</TableCell> */}\r\n                    <TableCell align=\"center\" sx={{ width: '250px' }}>Action</TableCell>\r\n                  </TableRow>\r\n                </TableHead>\r\n                <TableBody>\r\n                  {medicines ? medicines\r\n                    .slice(page * rowsPerPage, page * rowsPerPage + rowsPerPage)\r\n                    .map((row, index) => (\r\n                      <TableRow key={index}>\r\n\r\n                        <TableCell align=\"center\">{index + 1}</TableCell>\r\n                        <TableCell align=\"center\">{row.product_name}</TableCell>\r\n                        <TableCell align=\"center\">{row.category_name}</TableCell>\r\n                        <TableCell align=\"center\">{row.brand_name}</TableCell>\r\n                        {/* <TableCell align=\"left\">{row.description}</TableCell> */}\r\n                        <TableCell align=\"center\">{row.unit_packing}</TableCell>\r\n                        <TableCell align=\"center\">\r\n                          {(row.expiry_date) ? Moment(row.expiry_date).format('DD/MM/YYYY') : 'NA'}\r\n                        </TableCell>\r\n                        <TableCell align=\"center\">{row.hsn_sac_code}</TableCell>\r\n                        <TableCell align=\"center\">{row.batch_no}</TableCell>\r\n                        <TableCell align=\"center\">\r\n                          {(() => {\r\n                            switch (row.status) {\r\n                              case 'approved':\r\n                                return <Button color=\"success\" variant=\"contained\" size=\"small\">Approved</Button>\r\n                              case 'pending':\r\n                                return <Button color=\"warning\" variant=\"contained\" size=\"small\">Pending</Button>\r\n                              case 'rejected':\r\n                                return <Button color=\"error\" variant=\"contained\" size=\"small\">Rejected</Button>\r\n                              default:\r\n                                return null\r\n                            }\r\n                          })()}\r\n                        </TableCell>\r\n                        {/* <TableCell align=\"center\">{row.created_at}</TableCell>\r\n                        <TableCell align=\"center\">{row.updated_at}</TableCell> */}\r\n\r\n\r\n                        <TableCell title=\"View\" align=\"right\" sx={{ width: '200px' }}>\r\n                          <Button component={Link}\r\n                            to={`/dashboard/medicine/view/${row.id}`}\r\n                            color=\"success\" variant=\"outlined\" size=\"small\" sx={{ m: .5 }}>\r\n                            Approve\r\n                          </Button>\r\n                          <Button component={Link}\r\n                            to={`/dashboard/medicine/view/${row.id}`}\r\n                            color=\"primary\" variant=\"outlined\" size=\"small\" sx={{ m: .5 }}>\r\n                            View\r\n                          </Button>\r\n                          <Button title=\"Edit\" component={Link}\r\n                            to={`/dashboard/medicine/edit-stock/${row.id}`}\r\n                            color=\"info\" variant=\"outlined\" size=\"small\" sx={{ m: .5 }}>\r\n                            Edit\r\n                          </Button>\r\n                          <Button title=\"Delete\" onClick={(e) => __rowDelete(e, row.id, row.product_name)}\r\n                            color=\"error\" variant=\"outlined\" size=\"small\" sx={{ m: .5 }}>\r\n                            Delete\r\n                          </Button>\r\n                        </TableCell>\r\n                      </TableRow>\r\n                    )) : <TableRow><TableCell align=\"center\" colSpan={10}><CircularProgress className=\"progress\" /></TableCell></TableRow>}\r\n                </TableBody>\r\n              </StyledTable>\r\n              {medicines ?\r\n                <TablePagination\r\n                  sx={{ px: 2 }}\r\n                  page={page}\r\n                  component=\"div\"\r\n                  rowsPerPage={rowsPerPage}\r\n                  count={medicines.length}\r\n                  onPageChange={handleChangePage}\r\n                  rowsPerPageOptions={[5, 10, 25]}\r\n                  onRowsPerPageChange={handleChangeRowsPerPage}\r\n                  nextIconButtonProps={{ \"aria-label\": \"Next Page\" }}\r\n                  backIconButtonProps={{ \"aria-label\": \"Previous Page\" }}\r\n                />\r\n                : <>\r\n\r\n                </>\r\n              }\r\n            </Box>\r\n          </CardContent>\r\n        </Card>\r\n      </Container>\r\n    </>\r\n\r\n  );\r\n};\r\n\r\nexport default OverallInventorysList;\r\n"],"sourceRoot":""}